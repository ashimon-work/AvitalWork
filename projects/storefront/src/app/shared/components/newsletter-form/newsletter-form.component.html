<form #newsletterForm="ngForm" (ngSubmit)="onSubmit(newsletterForm)" class="newsletter-form">
  <div class="form-group">
    <label for="newsletter-email" class="sr-only">Email address</label>
    <input type="email"
           id="newsletter-email"
           name="email"
           placeholder="Enter your email address"
           [(ngModel)]="email"
           required
           email #emailInput="ngModel"
           [disabled]="isSubmitting">
    <button type="submit" [disabled]="newsletterForm.invalid || isSubmitting">
      {{ isSubmitting ? 'Subscribing...' : 'Subscribe' }}
    </button>
  </div>
  <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)" class="error-message">
    <span *ngIf="emailInput.errors?.['required']">Email is required.</span>
    <span *ngIf="emailInput.errors?.['email']">Please enter a valid email address.</span>
  </div>
  <div *ngIf="message" class="feedback-message" [ngClass]="{'success': isSuccess, 'error': !isSuccess}">
    {{ message }}
  </div>
</form>
